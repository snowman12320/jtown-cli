"use strict";(self["webpackChunkhello_world"]=self["webpackChunkhello_world"]||[]).push([[211],{1211:function(e,s,t){t.r(s),t.d(s,{default:function(){return j}});var r=t(3396),a=t(7139),o=t(9242);const n=e=>((0,r.dD)("data-v-c9a0b9ac"),e=e(),(0,r.Cn)(),e),i={class:""},l={class:"login_bg"},c={class:"d-flex justify-content-center align-items-center h-100"},m={class:"card"},u=n((()=>(0,r._)("div",{class:"card-header"},[(0,r._)("h3",null,"Sign In"),(0,r._)("div",{class:"d-flex justify-content-end social_icon"},[(0,r._)("span",null,[(0,r._)("i",{class:"fab fa-google-plus-square"})])])],-1))),d={class:"card-body"},p={class:"input-group form-group mb-2 position-relative"},f=n((()=>(0,r._)("div",{class:"input-group-prepend"},[(0,r._)("i",{class:"fas fa-user"})],-1))),g={class:"input-group form-group mt-4"},h=n((()=>(0,r._)("div",{class:"input-group-prepend"},[(0,r._)("i",{class:"fas fa-key"})],-1))),v={class:"mt-2 d-flex gap-1 align-items-center justify-content-end me-2"},b=n((()=>(0,r._)("label",{for:"remember",class:"text-white"},"Remember Me",-1))),w=n((()=>(0,r._)("div",{class:"form-group text-center mt-5"},[(0,r._)("input",{type:"submit",value:"Login",class:"btn float-right login_btn"})],-1))),_={class:"card-footer d-flex justify-content-center align-items-center"},x={class:"d-flex justify-content-center align-items-center links"},y=(0,r.Uk)(" Don't have an account? "),k=(0,r.Uk)("Sign Up");function I(e,s,t,n,I,S){const C=(0,r.up)("Loading"),M=(0,r.up)("Header"),V=(0,r.up)("Field"),W=(0,r.up)("error-message"),$=(0,r.up)("Form"),L=(0,r.up)("el-button"),j=(0,r.up)("el-popconfirm"),B=(0,r.up)("Footer");return(0,r.wg)(),(0,r.iD)("div",i,[(0,r.Wm)(C,{active:I.isLoading},null,8,["active"]),(0,r.Wm)(M,{"is-login":e.isLogin},null,8,["is-login"]),(0,r._)("div",l,[(0,r._)("div",c,[(0,r._)("div",m,[u,(0,r._)("div",d,[(0,r.Wm)($,{onSubmit:S.signIn},{default:(0,r.w5)((({errors:e})=>[(0,r._)("div",p,[f,(0,r.Wm)(V,{type:"text",name:"email",class:(0,a.C_)(["form-control rounded-3",{"is-invalid":e["email"],"is-valid":!e["email"]&&Boolean(I.user.username)}]),placeholder:"請輸入 Email",rules:"email|required",autofocus:"",modelValue:I.user.username,"onUpdate:modelValue":s[0]||(s[0]=e=>I.user.username=e)},null,8,["class","modelValue"]),(0,r.Wm)(W,{name:"email",class:"invalid-feedback ms-5",style:{"text-shadow":"0 2px 5px #fff"}})]),(0,r._)("div",g,[h,(0,r.Wm)(V,{type:"password",name:"密碼",id:"password",class:(0,a.C_)(["form-control rounded-3",{"is-invalid":e["密碼"],"is-valid":!e["密碼"]&&Boolean(I.user.password)}]),placeholder:"password",required:"",modelValue:I.user.password,"onUpdate:modelValue":s[1]||(s[1]=e=>I.user.password=e),maxlength:"20",rules:S.validatePassword},null,8,["modelValue","rules","class"]),(0,r.Wm)(W,{name:"密碼",class:"invalid-feedback ms-5",style:{"text-shadow":"0 2px 5px #fff"}})]),(0,r._)("div",v,[(0,r.wy)((0,r._)("input",{id:"remember",type:"checkbox","onUpdate:modelValue":s[2]||(s[2]=e=>I.rememberMe=e)},null,512),[[o.e8,I.rememberMe]]),b]),w])),_:1},8,["onSubmit"])]),(0,r._)("div",_,[(0,r._)("div",x,[y,(0,r.Wm)(j,{width:"350",onConfirm:S.confirmEvent,"confirm-button-text":"Yap!","cancel-button-text":"No, Thanks","icon-color":"#626AEF",title:"Registration is not yet available... but would you like to use VIP to test it?"},{reference:(0,r.w5)((()=>[(0,r.Wm)(L,{style:{"text-shadow":"0 2px 5px black"}},{default:(0,r.w5)((()=>[k])),_:1})])),_:1},8,["onConfirm"])])])])])]),(0,r.Wm)(B)])}var S=t(9588),C=t(2209),M=t(9806),V=t(5820),W={mixins:[M.Z],components:{Header:S.Z,Footer:C.Z},provide(){return{emitter:V.Z}},data(){return{user:{username:"VIP-test@jtown.com.tw",password:""},isLoading:!1,rememberMe:!1}},created(){this.checkRemember()},watch:{rememberMe(){this.rememberMe?this.$swal.fire({title:"Are you sure remember it?",text:" Please verify and correct it if necessary!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, do it!"}).then((e=>{e.isConfirmed&&(this.$swal.fire("Remember!","Your password has been saved.","success"),localStorage.setItem("username",this.user.username),localStorage.setItem("password",this.user.password),localStorage.setItem("rememberMe",!0))})):(localStorage.removeItem("username"),localStorage.removeItem("password"),localStorage.removeItem("rememberMe"))}},methods:{signIn(){const e="https://vue3-course-api.hexschool.io/admin/signin";this.$http.post(e,this.user).then((e=>{if(this.isLoading=!0,e.data.success){this.isLoading=!1;const{token:s,expired:t}=e.data;document.cookie=`hexToken=${s}; expires=${new Date(t)}`,this.$router.go(-1),localStorage.setItem("username",JSON.stringify(this.user.username))}else this.$swal.fire("Incorrect","please check username or password.","warning")}))},validatePassword(e){if(!e)return!1;const s=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d).{10,}$/;return!!s.test(e)||"密碼需包含英文大小寫和數字，且超過十位數以上"},checkRemember(){"true"===localStorage.getItem("rememberMe")&&(this.rememberMe=!0,this.user.username=localStorage.getItem("username"),this.user.password=localStorage.getItem("password"))},confirmEvent(){localStorage.setItem("VIP",JSON.stringify("testToken")),localStorage.setItem("username",JSON.stringify(this.user.username)),this.$router.push("/dashboard/products")}}},$=t(89);const L=(0,$.Z)(W,[["render",I],["__scopeId","data-v-c9a0b9ac"]]);var j=L}}]);
//# sourceMappingURL=211.4da4e8fc.js.map