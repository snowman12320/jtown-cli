"use strict";(self["webpackChunkhello_world"]=self["webpackChunkhello_world"]||[]).push([[429],{8e3:function(t,e,i){i.r(e),i.d(e,{default:function(){return ue}});var n=i(3396),s=i(7139),o=i(9242);const a=t=>((0,n.dD)("data-v-5a4c2429"),t=t(),(0,n.Cn)(),t),r={class:""},c={class:"container-xl"},l={"aria-label":"breadcrumb",class:"mt-10"},h={class:"breadcrumb"},u={class:"breadcrumb-item text-nbaBlue"},d=(0,n.Uk)("Home"),m={class:"breadcrumb-item text-nbaBlue"},g=(0,n.Uk)("Product"),f={class:"breadcrumb-item active","aria-current":"page"},p={class:"row row-cols-md-2 g-5 mt-md-5"},b={id:"carouselExampleIndicators",class:"carousel slide col-md-8","data-bs-ride":"carouse"},v={class:"carousel-indicators"},y=a((()=>(0,n._)("button",{type:"button","data-bs-target":"#carouselExampleIndicators","data-bs-slide-to":"0",class:"active","aria-current":"true","aria-label":"Slide 1"},null,-1))),w=["data-bs-slide-to","aria-label"],x={class:"carousel-inner"},O={class:"carousel-item active text-center h-100 w-100 mx-auto"},M={class:"f-panzoom h-100 w-100 mx-auto",ref:"myPanzoom"},P=a((()=>(0,n._)("div",{"data-panzoom-pin":"","data-x":"56%","data-y":"60%"},[(0,n._)("div",{title:"My dream house"},[(0,n._)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","monica-exclude-el":"m"},[(0,n._)("path",{d:"M12 0a7.2 7.2 0 0 0-7.27 7.14C4.73 11.08 12 24 12 24s7.27-12.92 7.27-16.86A7.2 7.2 0 0 0 12 0Z"})])]),(0,n._)("p",{class:"text-white",style:{"text-shadow":"2px 2px 4px #000, -2px -2px 4px #000"}},"feature")],-1))),S=["src"],T=["src"],E=(0,n.uE)('<button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="prev" data-v-5a4c2429><span class="carousel-control-prev-icon bg-info p-2 rounded-circle" aria-hidden="true" data-v-5a4c2429></span><span class="visually-hidden" data-v-5a4c2429>Previous</span></button><button class="carousel-control-next" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="next" data-v-5a4c2429><span class="carousel-control-next-icon bg-info p-2 rounded-circle" aria-hidden="true" data-v-5a4c2429></span><span class="visually-hidden" data-v-5a4c2429>Next</span></button>',2),k={class:"col-md-4 d-flex flex-column justify-content-around text-center"},_={class:"mb-5"},C={class:"my-5"},L={class:"d-flex justify-content-center w-50 mx-auto"},j={class:"form-check"},A=a((()=>(0,n._)("label",{style:{cursor:"pointer"},class:"form-check-label border border-secondary text-secondary px-3 py-2",for:"S"}," S ",-1))),D={class:"form-check"},z=a((()=>(0,n._)("label",{style:{cursor:"pointer"},class:"form-check-label border border-secondary text-secondary px-3 py-2",for:"M"}," M ",-1))),F={class:"form-check"},R=a((()=>(0,n._)("label",{style:{cursor:"pointer"},class:"form-check-label border border-secondary text-secondary px-3 py-2",for:"L"}," L ",-1))),B={class:"form-check slanted-div"},W=a((()=>(0,n._)("label",{style:{cursor:"not-allowed"},disabled:"",class:"form-check-label border border-secondary text-secondary px-3 py-2",for:"XL"}," XL ",-1))),X={class:"d-flex align-items-center justify-content-center gap-3"},Y={class:"text-secondary fs-6 text-decoration-line-through fw-lighter"},H={class:"text-center"},I={class:"justify-content-center d-flex align-items-center my-3 gap-5"},Z={class:"fs-1 d-flex justify-content-center gap-3 align-items-center"},$=["disabled"],N={class:""},V={class:"d-flex flex-column flex-md-row justify-content-center gap-md-5 mt-5 gap-1"},q=["disabled"],U=a((()=>(0,n._)("hr",{class:"w-100 mx-auto"},null,-1))),G={class:"my-3 d-flex gap-3 w-100 flex-wrap mx-auto"},K=(0,n.Uk)("Free shipping"),J=(0,n.Uk)("Store pickup"),Q=(0,n.Uk)("Fast delivery"),tt={class:"row row-cols-md-2 flex-column-reverse flex-md-row"},et={class:"col-md-8"},it=a((()=>(0,n._)("h3",{class:"mt-7"},"DESCRIPTION",-1))),nt=a((()=>(0,n._)("hr",null,null,-1))),st=["innerHTML"],ot=a((()=>(0,n._)("h3",{class:"mt-7"},"COMMENT",-1))),at=a((()=>(0,n._)("hr",null,null,-1))),rt={class:"img_cont_msg"},ct=["src"],lt={class:"d-flex flex-column"},ht={class:"position-relative"},ut={class:"msg_cotainer"},dt={class:"msg_time"},mt={class:"card-footer mt-10"},gt={class:"input-group d-flex align-items-end"},ft=a((()=>(0,n._)("i",{class:"fas fa-location-arrow"},null,-1))),pt=[ft],bt={class:"col-md-4 sticky-md-top align-self-start",style:{top:"10%","z-index":"1"}},vt={class:"accordion d-flex justify-content-center mt-5",id:"accordionPanelsStayOpenExample"},yt={class:"accordion-item w-100"},wt=a((()=>(0,n._)("h2",{class:"accordion-header",id:"panelsStayOpen-headingOne"},[(0,n._)("button",{class:"accordion-button",type:"button","data-bs-toggle":"collapse","data-bs-target":"#panelsStayOpen-collapseOne","aria-expanded":"true","aria-controls":"panelsStayOpen-collapseOne"}," DETAILS ")],-1))),xt={id:"panelsStayOpen-collapseOne",class:"accordion-collapse collapse","aria-labelledby":"panelsStayOpen-headingOne"},Ot={class:"accordion-body text-start"},Mt=["innerHTML"],Pt=a((()=>(0,n._)("h3",{class:"mt-7"},"RECOMMEND",-1)));function St(t,e,i,a,ft,St){const Tt=(0,n.up)("Loading"),Et=(0,n.up)("router-link"),kt=(0,n.up)("el-tag"),_t=(0,n.up)("el-rate"),Ct=(0,n.up)("ProductsList");return(0,n.wg)(),(0,n.iD)("div",r,[(0,n.Wm)(Tt,{active:ft.isLoading_big},null,8,["active"]),(0,n._)("div",c,[(0,n._)("nav",l,[(0,n._)("ol",h,[(0,n._)("li",u,[(0,n.Wm)(Et,{style:{"text-decoration":"none !important"},to:"/"},{default:(0,n.w5)((()=>[d])),_:1})]),(0,n._)("li",m,[(0,n.Wm)(Et,{style:{"text-decoration":"none !important"},to:"/products-view/products-content/title"},{default:(0,n.w5)((()=>[g])),_:1})]),(0,n._)("li",f,(0,s.zw)(ft.product.title),1)])]),(0,n._)("div",p,[(0,n._)("div",b,[(0,n._)("div",v,[y,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(ft.product.imagesUrl,((t,e)=>((0,n.wg)(),(0,n.iD)("button",{key:e+1,type:"button","data-bs-target":"#carouselExampleIndicators","data-bs-slide-to":e+1,class:"","aria-current":"true","aria-label":"Slide "+e+1},null,8,w)))),128))]),(0,n._)("div",x,[(0,n._)("div",O,[(0,n._)("div",M,[P,(0,n._)("img",{class:"f-panzoom__content w-100 h-100 mx-auto",src:ft.product.imageUrl},null,8,S)],512)]),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(ft.product.imagesUrl,((t,e)=>((0,n.wg)(),(0,n.iD)("div",{class:"carousel-item text-center h-100 w-100",key:e},[(0,n._)("img",{src:t.url,class:"w-auto h-100",alt:"..."},null,8,T)])))),128))]),E]),(0,n._)("div",k,[(0,n._)("h1",_,(0,s.zw)(ft.product.title),1),(0,n._)("div",C,[(0,n._)("div",L,[(0,n._)("div",j,[(0,n.wy)((0,n._)("input",{value:"S","onUpdate:modelValue":e[0]||(e[0]=e=>t.productSize_item=e),class:"form-check-input d-none",type:"radio",name:"size",id:"S"},null,512),[[o.G2,t.productSize_item]]),A]),(0,n._)("div",D,[(0,n.wy)((0,n._)("input",{value:"M","onUpdate:modelValue":e[1]||(e[1]=e=>t.productSize_item=e),class:"form-check-input d-none",type:"radio",name:"size",id:"M"},null,512),[[o.G2,t.productSize_item]]),z]),(0,n._)("div",F,[(0,n.wy)((0,n._)("input",{value:"L","onUpdate:modelValue":e[2]||(e[2]=e=>t.productSize_item=e),class:"form-check-input d-none",type:"radio",name:"size",id:"L"},null,512),[[o.G2,t.productSize_item]]),R]),(0,n._)("div",B,[(0,n.wy)((0,n._)("input",{disabled:"",value:"XL","onUpdate:modelValue":e[3]||(e[3]=e=>t.productSize_item=e),class:"form-check-input d-none",type:"radio",name:"size",id:"XL"},null,512),[[o.G2,t.productSize_item]]),W])])]),(0,n._)("div",X,[(0,n._)("small",Y,"$ "+(0,s.zw)(t.$filters.currency(ft.product.origin_price)),1),(0,n._)("h2",H,"$ "+(0,s.zw)(t.$filters.currency(ft.product.price)),1)]),(0,n._)("div",I,[(0,n._)("div",Z,[(0,n._)("button",{style:{height:"40px"},disabled:1===t.qty,onClick:e[4]||(e[4]=e=>t.qty--),class:"btn btn-outline-secondary py-0"},"-",8,$),(0,n._)("span",N,(0,s.zw)(t.qty),1),(0,n._)("button",{style:{height:"40px"},onClick:e[5]||(e[5]=e=>t.qty++),class:"btn btn-outline-secondary py-0"},"+")]),t.isFavorite?((0,n.wg)(),(0,n.iD)("i",{key:0,onClick:e[6]||(e[6]=e=>t.updateFavo(ft.product.id)),class:"fa-solid fa-heart fa-beat-fade text-danger fs-3"})):((0,n.wg)(),(0,n.iD)("i",{key:1,onClick:e[7]||(e[7]=e=>t.updateFavo(ft.product.id)),class:"fa-solid fa-heart-crack fa-shake text-secondary fs-3"}))]),(0,n._)("div",V,[(0,n._)("button",{class:(0,s.C_)(["btn-outline-primary btn",{"btn btn-outline-primary":ft.product.id===t.status.loadingItem}]),onClick:e[8]||(e[8]=e=>t.addToCart(ft.product.id,t.qty,t.isBuy=!1)),disabled:ft.product.id===t.status.loadingItem},"ADD TO CART",10,q),(0,n._)("button",{class:"btn btn-danger",onClick:e[9]||(e[9]=e=>t.addToCart(ft.product.id,t.qty,t.isBuy=!0))},"BUY NOW")]),U,(0,n._)("div",G,[(0,n.Wm)(kt,{class:"fs-6",type:"warning",size:"",effect:"plain",round:""},{default:(0,n.w5)((()=>[K])),_:1}),(0,n.Wm)(kt,{class:"fs-6",type:"info",size:"",effect:"plain",round:""},{default:(0,n.w5)((()=>[J])),_:1}),(0,n.Wm)(kt,{class:"fs-6",type:"danger",size:"",effect:"plain",round:""},{default:(0,n.w5)((()=>[Q])),_:1})])])]),(0,n._)("div",tt,[(0,n._)("div",et,[it,nt,(0,n._)("p",{class:"",innerHTML:ft.product.content},null,8,st),ot,at,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(ft.rateData,((t,e)=>((0,n.wg)(),(0,n.iD)("div",{class:"d-flex justify-content-start mb-4",key:e},[(0,n._)("div",rt,[(0,n._)("img",{src:`https://i.pravatar.cc/150?img=${e}`,class:"rounded-circle user_img_msg"},null,8,ct)]),(0,n._)("div",lt,[(0,n.Wm)(_t,{class:"ms-3",modelValue:t.rateValue,"onUpdate:modelValue":e=>t.rateValue=e,disabled:"","show-score":"","text-color":"#ff9900","score-template":"{value}"},null,8,["modelValue","onUpdate:modelValue"]),(0,n._)("div",ht,[(0,n._)("div",ut,(0,s.zw)(t.rateComment),1),(0,n._)("span",dt,(0,s.zw)(t.rateTime),1)])])])))),128)),(0,n._)("div",mt,[(0,n.Wm)(_t,{modelValue:ft.rateValue,"onUpdate:modelValue":e[10]||(e[10]=t=>ft.rateValue=t),"show-text":""},null,8,["modelValue"]),(0,n._)("div",gt,[(0,n.wy)((0,n._)("textarea",{onKeydown:e[11]||(e[11]=(0,o.D2)((t=>St.sendComment()),["enter"])),"onUpdate:modelValue":e[12]||(e[12]=t=>ft.rateComment=t),name:"",rows:"3",class:"form-control type_msg",placeholder:"Type your comment ..."},null,544),[[o.nr,ft.rateComment]]),(0,n._)("span",{onClick:e[13]||(e[13]=t=>St.sendComment()),class:"input-group-text send_btn"},pt)])])]),(0,n._)("div",bt,[(0,n._)("div",vt,[(0,n._)("div",yt,[wt,(0,n._)("div",xt,[(0,n._)("div",Ot,[(0,n._)("p",{class:"",innerHTML:ft.product.description},null,8,Mt)])])])])])]),Pt,(0,n.Wm)(Ct)])])}var Tt=i(628),Et=i(9806),kt=i(7418),_t=i(6019);const Ct=(t,...e)=>{const i=e.length;for(let n=0;n<i;n++){const i=e[n]||{};Object.entries(i).forEach((([e,i])=>{const n=Array.isArray(i)?[]:{};var s;t[e]||Object.assign(t,{[e]:n}),"object"==typeof(s=i)&&null!==s&&s.constructor===Object&&"[object Object]"===Object.prototype.toString.call(s)?Object.assign(t[e],Ct(n,i)):Array.isArray(i)?Object.assign(t,{[e]:[...i]}):Object.assign(t,{[e]:i})}))}return t},Lt=function(t,e){return t.split(".").reduce(((t,e)=>"object"==typeof t?t[e]:void 0),e)};class jt{constructor(t={}){Object.defineProperty(this,"options",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),this.setOptions(t);for(const e of Object.getOwnPropertyNames(Object.getPrototypeOf(this)))e.startsWith("on")&&"function"==typeof this[e]&&(this[e]=this[e].bind(this))}setOptions(t){this.options=t?Ct({},this.constructor.defaults,t):{};for(const[e,i]of Object.entries(this.option("on")||{}))this.on(e,i)}option(t,...e){let i=Lt(t,this.options);return i&&"function"==typeof i&&(i=i.call(this,this,...e)),i}optionFor(t,e,i,...n){let s=Lt(e,t);var o;"string"!=typeof(o=s)||isNaN(o)||isNaN(parseFloat(o))||(s=parseFloat(s)),"true"===s&&(s=!0),"false"===s&&(s=!1),s&&"function"==typeof s&&(s=s.call(this,this,t,...n));let a=Lt(e,this.options);return a&&"function"==typeof a?s=a.call(this,this,t,...n,s):void 0===s&&(s=a),void 0===s?i:s}cn(t){const e=this.options.classes;return e&&e[t]||""}localize(t,e=[]){t=String(t).replace(/\{\{(\w+).?(\w+)?\}\}/g,((t,e,i)=>{let n="";return i?n=this.option(`${e[0]+e.toLowerCase().substring(1)}.l10n.${i}`):e&&(n=this.option(`l10n.${e}`)),n||(n=t),n}));for(let i=0;i<e.length;i++)t=t.split(e[i][0]).join(e[i][1]);return t.replace(/\{\{(.*?)\}\}/g,((t,e)=>e))}on(t,e){let i=[];"string"==typeof t?i=t.split(" "):Array.isArray(t)&&(i=t),this.events||(this.events=new Map),i.forEach((t=>{let i=this.events.get(t);i||(this.events.set(t,[]),i=[]),i.includes(e)||i.push(e),this.events.set(t,i)}))}off(t,e){let i=[];"string"==typeof t?i=t.split(" "):Array.isArray(t)&&(i=t),i.forEach((t=>{const i=this.events.get(t);if(Array.isArray(i)){const t=i.indexOf(e);t>-1&&i.splice(t,1)}}))}emit(t,...e){[...this.events.get(t)||[]].forEach((t=>t(this,...e))),"*"!==t&&this.emit("*",t,...e)}}Object.defineProperty(jt,"version",{enumerable:!0,configurable:!0,writable:!0,value:"5.0.20"}),Object.defineProperty(jt,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{}});class At extends jt{constructor(t,e){super(e),Object.defineProperty(this,"instance",{enumerable:!0,configurable:!0,writable:!0,value:t})}attach(){}detach(){}}class Dt extends At{constructor(){super(...arguments),Object.defineProperty(this,"container",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"pins",{enumerable:!0,configurable:!0,writable:!0,value:[]})}onTransform(t){for(const i of this.pins){if(!((e=i)&&null!==e&&e instanceof Element&&"nodeType"in e))continue;const{fitWidth:n,fitHeight:s,fullWidth:o,fullHeight:a}=t.contentRect,r=i.dataset.x||"",c=i.dataset.y||"";let l=0,h=0;l=r.includes("%")?n*(parseFloat(r)/100):parseFloat(r)/o*n,l-=.5*n,h=c.includes("%")?s*(parseFloat(c)/100):parseFloat(c)/a*s,h-=.5*s;const u=new DOMPoint(l,h).matrixTransform(t.getMatrix());i.style.transform=`translate3d(${u.x||0}px, ${u.y||0}px, 0)`}var e}attach(){const t=this.instance;this.pins=Array.from(t.container.querySelectorAll("[data-panzoom-pin]")),this.pins.length&&(t.container.classList.add("has-pins"),t.on("afterTransform",this.onTransform))}detach(){const t=this.instance;this.pins=[],t.container.classList.remove("has-pins"),t.off("afterTransform",this.onTransform)}}Object.defineProperty(Dt,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{}});i(1703);const zt=(t,e=1e4)=>(t=parseFloat(t+"")||0,Math.round((t+Number.EPSILON)*e)/e),Ft=function(t,e){return!(!t||t===document.body||e&&t===e)&&(function(t){if(!(t&&t instanceof Element&&t.offsetParent))return!1;const e=t.scrollHeight>t.clientHeight,i=window.getComputedStyle(t).overflowY,n=-1!==i.indexOf("hidden"),s=-1!==i.indexOf("visible");return e&&!n&&!s}(t)?t:Ft(t.parentElement,e))},Rt=t=>`${t||""}`.split(" ").filter((t=>!!t)),Bt=(t,e,i)=>{Rt(e).forEach((e=>{t&&t.classList.toggle(e,i||!1)}))};class Wt{constructor(t){Object.defineProperty(this,"pageX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"pageY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"clientX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"clientY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"time",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"nativePointer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.nativePointer=t,this.pageX=t.pageX,this.pageY=t.pageY,this.clientX=t.clientX,this.clientY=t.clientY,this.id=self.Touch&&t instanceof Touch?t.identifier:-1,this.time=Date.now()}}const Xt={passive:!1};class Yt{constructor(t,{start:e=(()=>!0),move:i=(()=>{}),end:n=(()=>{})}){Object.defineProperty(this,"element",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"startCallback",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"moveCallback",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"endCallback",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"currentPointers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"startPointers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),this.element=t,this.startCallback=e,this.moveCallback=i,this.endCallback=n;for(const s of["onPointerStart","onTouchStart","onMove","onTouchEnd","onPointerEnd","onWindowBlur"])this[s]=this[s].bind(this);this.element.addEventListener("mousedown",this.onPointerStart,Xt),this.element.addEventListener("touchstart",this.onTouchStart,Xt),this.element.addEventListener("touchmove",this.onMove,Xt),this.element.addEventListener("touchend",this.onTouchEnd),this.element.addEventListener("touchcancel",this.onTouchEnd)}onPointerStart(t){if(!t.buttons||0!==t.button)return;const e=new Wt(t);this.currentPointers.some((t=>t.id===e.id))||this.triggerPointerStart(e,t)&&(window.addEventListener("mousemove",this.onMove),window.addEventListener("mouseup",this.onPointerEnd),window.addEventListener("blur",this.onWindowBlur))}onTouchStart(t){for(const e of Array.from(t.changedTouches||[]))this.triggerPointerStart(new Wt(e),t);window.addEventListener("blur",this.onWindowBlur)}onMove(t){const e=this.currentPointers.slice(),i="changedTouches"in t?Array.from(t.changedTouches||[]).map((t=>new Wt(t))):[new Wt(t)],n=[];for(const s of i){const t=this.currentPointers.findIndex((t=>t.id===s.id));t<0||(n.push(s),this.currentPointers[t]=s)}n.length&&this.moveCallback(t,this.currentPointers.slice(),e)}onPointerEnd(t){t.buttons>0&&0!==t.button||(this.triggerPointerEnd(t,new Wt(t)),window.removeEventListener("mousemove",this.onMove),window.removeEventListener("mouseup",this.onPointerEnd),window.removeEventListener("blur",this.onWindowBlur))}onTouchEnd(t){for(const e of Array.from(t.changedTouches||[]))this.triggerPointerEnd(t,new Wt(e))}triggerPointerStart(t,e){return!!this.startCallback(e,t,this.currentPointers.slice())&&(this.currentPointers.push(t),this.startPointers.push(t),!0)}triggerPointerEnd(t,e){const i=this.currentPointers.findIndex((t=>t.id===e.id));i<0||(this.currentPointers.splice(i,1),this.startPointers.splice(i,1),this.endCallback(t,e,this.currentPointers.slice()))}onWindowBlur(){this.clear()}clear(){for(;this.currentPointers.length;){const t=this.currentPointers[this.currentPointers.length-1];this.currentPointers.splice(this.currentPointers.length-1,1),this.startPointers.splice(this.currentPointers.length-1,1),this.endCallback(new Event("touchend",{bubbles:!0,cancelable:!0,clientX:t.clientX,clientY:t.clientY}),t,this.currentPointers.slice())}}stop(){this.element.removeEventListener("mousedown",this.onPointerStart,Xt),this.element.removeEventListener("touchstart",this.onTouchStart,Xt),this.element.removeEventListener("touchmove",this.onMove,Xt),this.element.removeEventListener("touchend",this.onTouchEnd),this.element.removeEventListener("touchcancel",this.onTouchEnd),window.removeEventListener("mousemove",this.onMove),window.removeEventListener("mouseup",this.onPointerEnd),window.removeEventListener("blur",this.onWindowBlur)}}function Ht(t,e){return e?Math.sqrt(Math.pow(e.clientX-t.clientX,2)+Math.pow(e.clientY-t.clientY,2)):0}function It(t,e){return e?{clientX:(t.clientX+e.clientX)/2,clientY:(t.clientY+e.clientY)/2}:t}const Zt=(t,...e)=>{const i=e.length;for(let n=0;n<i;n++){const i=e[n]||{};Object.entries(i).forEach((([e,i])=>{const n=Array.isArray(i)?[]:{};var s;t[e]||Object.assign(t,{[e]:n}),"object"==typeof(s=i)&&null!==s&&s.constructor===Object&&"[object Object]"===Object.prototype.toString.call(s)?Object.assign(t[e],Zt(n,i)):Array.isArray(i)?Object.assign(t,{[e]:[...i]}):Object.assign(t,{[e]:i})}))}return t},$t=function(t,e){return t.split(".").reduce(((t,e)=>"object"==typeof t?t[e]:void 0),e)};class Nt{constructor(t={}){Object.defineProperty(this,"options",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),this.setOptions(t);for(const e of Object.getOwnPropertyNames(Object.getPrototypeOf(this)))e.startsWith("on")&&"function"==typeof this[e]&&(this[e]=this[e].bind(this))}setOptions(t){this.options=t?Zt({},this.constructor.defaults,t):{};for(const[e,i]of Object.entries(this.option("on")||{}))this.on(e,i)}option(t,...e){let i=$t(t,this.options);return i&&"function"==typeof i&&(i=i.call(this,this,...e)),i}optionFor(t,e,i,...n){let s=$t(e,t);var o;"string"!=typeof(o=s)||isNaN(o)||isNaN(parseFloat(o))||(s=parseFloat(s)),"true"===s&&(s=!0),"false"===s&&(s=!1),s&&"function"==typeof s&&(s=s.call(this,this,t,...n));let a=$t(e,this.options);return a&&"function"==typeof a?s=a.call(this,this,t,...n,s):void 0===s&&(s=a),void 0===s?i:s}cn(t){const e=this.options.classes;return e&&e[t]||""}localize(t,e=[]){t=String(t).replace(/\{\{(\w+).?(\w+)?\}\}/g,((t,e,i)=>{let n="";return i?n=this.option(`${e[0]+e.toLowerCase().substring(1)}.l10n.${i}`):e&&(n=this.option(`l10n.${e}`)),n||(n=t),n}));for(let i=0;i<e.length;i++)t=t.split(e[i][0]).join(e[i][1]);return t.replace(/\{\{(.*?)\}\}/g,((t,e)=>e))}on(t,e){let i=[];"string"==typeof t?i=t.split(" "):Array.isArray(t)&&(i=t),this.events||(this.events=new Map),i.forEach((t=>{let i=this.events.get(t);i||(this.events.set(t,[]),i=[]),i.includes(e)||i.push(e),this.events.set(t,i)}))}off(t,e){let i=[];"string"==typeof t?i=t.split(" "):Array.isArray(t)&&(i=t),i.forEach((t=>{const i=this.events.get(t);if(Array.isArray(i)){const t=i.indexOf(e);t>-1&&i.splice(t,1)}}))}emit(t,...e){[...this.events.get(t)||[]].forEach((t=>t(this,...e))),"*"!==t&&this.emit("*",t,...e)}}Object.defineProperty(Nt,"version",{enumerable:!0,configurable:!0,writable:!0,value:"5.0.20"}),Object.defineProperty(Nt,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{}});class Vt extends Nt{constructor(t={}){super(t),Object.defineProperty(this,"plugins",{enumerable:!0,configurable:!0,writable:!0,value:{}})}attachPlugins(t={}){const e=new Map;for(const[i,n]of Object.entries(t)){const t=this.option(i),s=this.plugins[i];s||!1===t?s&&!1===t&&(s.detach(),delete this.plugins[i]):e.set(i,new n(this,t||{}))}for(const[i,n]of e)this.plugins[i]=n,n.attach();this.emit("attachPlugins")}detachPlugins(t){t=t||Object.keys(this.plugins);for(const e of t){const t=this.plugins[e];t&&t.detach(),delete this.plugins[e]}return this.emit("detachPlugins"),this}}var qt;!function(t){t[t.Init=0]="Init",t[t.Error=1]="Error",t[t.Ready=2]="Ready",t[t.Panning=3]="Panning",t[t.Mousemove=4]="Mousemove",t[t.Destroy=5]="Destroy"}(qt||(qt={}));const Ut=["a","b","c","d","e","f"],Gt={content:null,width:"auto",height:"auto",panMode:"drag",touch:!0,dragMinThreshold:3,lockAxis:!1,mouseMoveFactor:1,mouseMoveFriction:.12,zoom:!0,pinchToZoom:!0,panOnlyZoomed:"auto",minScale:1,maxScale:2,friction:.25,dragFriction:.35,decelFriction:.05,click:"toggleZoom",dblClick:!1,wheel:"zoom",wheelLimit:7,spinner:!0,bounds:"auto",infinite:!1,rubberband:!0,bounce:!0,maxVelocity:75,transformParent:!1,classes:{content:"f-panzoom__content",isLoading:"is-loading",canZoomIn:"can-zoom_in",canZoomOut:"can-zoom_out",isDraggable:"is-draggable",isDragging:"is-dragging",inFullscreen:"in-fullscreen",htmlHasFullscreen:"with-panzoom-in-fullscreen"},l10n:{PANUP:"Move up",PANDOWN:"Move down",PANLEFT:"Move left",PANRIGHT:"Move right",ZOOMIN:"Zoom in",ZOOMOUT:"Zoom out",TOGGLEZOOM:"Toggle zoom level",TOGGLE1TO1:"Toggle zoom level",ITERATEZOOM:"Toggle zoom level",ROTATECCW:"Rotate counterclockwise",ROTATECW:"Rotate clockwise",FLIPX:"Flip horizontally",FLIPY:"Flip vertically",FITX:"Fit horizontally",FITY:"Fit vertically",RESET:"Reset",TOGGLEFS:"Toggle fullscreen"}},Kt=(t,e)=>{t&&Rt(e).forEach((e=>{t.classList.remove(e)}))},Jt=(t,e)=>{t&&Rt(e).forEach((e=>{t.classList.add(e)}))},Qt={a:1,b:0,c:0,d:1,e:0,f:0},te=1e5,ee=1e3,ie="mousemove",ne="drag",se="content";let oe=null,ae=null;class re extends Vt{get isTouchDevice(){return null===ae&&(ae=window.matchMedia("(hover: none)").matches),ae}get isMobile(){return null===oe&&(oe=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)),oe}get panMode(){return this.options.panMode!==ie||this.isTouchDevice?ne:ie}get panOnlyZoomed(){const t=this.options.panOnlyZoomed;return"auto"===t?this.isTouchDevice:t}get isInfinite(){return this.option("infinite")}get angle(){return 180*Math.atan2(this.current.b,this.current.a)/Math.PI||0}get targetAngle(){return 180*Math.atan2(this.target.b,this.target.a)/Math.PI||0}get scale(){const{a:t,b:e}=this.current;return Math.sqrt(t*t+e*e)||1}get targetScale(){const{a:t,b:e}=this.target;return Math.sqrt(t*t+e*e)||1}get minScale(){return this.option("minScale")||1}get fullScale(){const{contentRect:t}=this;return t.fullWidth/t.fitWidth||1}get maxScale(){return this.fullScale*(this.option("maxScale")||1)||1}get coverScale(){const{containerRect:t,contentRect:e}=this,i=Math.max(t.height/e.fitHeight,t.width/e.fitWidth)||1;return Math.min(this.fullScale,i)}get isScaling(){return Math.abs(this.targetScale-this.scale)>1e-5&&!this.isResting}get isContentLoading(){const t=this.content;return!!(t&&t instanceof HTMLImageElement)&&!t.complete}get isResting(){if(this.isBouncingX||this.isBouncingY)return!1;for(const t of Ut){const e="e"==t||"f"===t?.001:1e-5;if(Math.abs(this.target[t]-this.current[t])>e)return!1}return!(!this.ignoreBounds&&!this.checkBounds().inBounds)}constructor(t,e={},i={}){var n;if(super(e),Object.defineProperty(this,"pointerTracker",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"resizeObserver",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"updateTimer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"clickTimer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"rAF",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"isTicking",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"friction",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"ignoreBounds",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"isBouncingX",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"isBouncingY",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"clicks",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"trackingPoints",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"pwt",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"cwd",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"pmme",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"state",{enumerable:!0,configurable:!0,writable:!0,value:qt.Init}),Object.defineProperty(this,"isDragging",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"container",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"content",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"spinner",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"containerRect",{enumerable:!0,configurable:!0,writable:!0,value:{width:0,height:0,innerWidth:0,innerHeight:0}}),Object.defineProperty(this,"contentRect",{enumerable:!0,configurable:!0,writable:!0,value:{top:0,right:0,bottom:0,left:0,fullWidth:0,fullHeight:0,fitWidth:0,fitHeight:0,width:0,height:0}}),Object.defineProperty(this,"dragStart",{enumerable:!0,configurable:!0,writable:!0,value:{x:0,y:0,top:0,left:0,time:0}}),Object.defineProperty(this,"dragOffset",{enumerable:!0,configurable:!0,writable:!0,value:{x:0,y:0,time:0}}),Object.defineProperty(this,"current",{enumerable:!0,configurable:!0,writable:!0,value:Object.assign({},Qt)}),Object.defineProperty(this,"target",{enumerable:!0,configurable:!0,writable:!0,value:Object.assign({},Qt)}),Object.defineProperty(this,"velocity",{enumerable:!0,configurable:!0,writable:!0,value:{a:0,b:0,c:0,d:0,e:0,f:0}}),Object.defineProperty(this,"lockedAxis",{enumerable:!0,configurable:!0,writable:!0,value:!1}),!t)throw new Error("Container Element Not Found");this.container=t,this.initContent(),this.attachPlugins(Object.assign(Object.assign({},re.Plugins),i)),this.emit("init");const s=this.content;if(s.addEventListener("load",this.onLoad),s.addEventListener("error",this.onError),this.isContentLoading){if(this.option("spinner")){t.classList.add(this.cn("isLoading"));const e=function(t){var e=(new DOMParser).parseFromString(t,"text/html").body;if(e.childElementCount>1){for(var i=document.createElement("div");e.firstChild;)i.appendChild(e.firstChild);return i}return e.firstChild}('<div class="f-spinner"><svg viewBox="0 0 50 50"><circle cx="25" cy="25" r="20"></circle><circle cx="25" cy="25" r="20"></circle></svg></div>');!t.contains(s)||s.parentElement instanceof HTMLPictureElement?this.spinner=t.appendChild(e):this.spinner=(null===(n=s.parentElement)||void 0===n?void 0:n.insertBefore(e,s))||null}this.emit("beforeLoad")}else queueMicrotask((()=>{this.enable()}))}initContent(){const{container:t}=this,e=this.cn(se);let i=this.option(se)||t.querySelector(`.${e}`);if(i||(i=t.querySelector("img,picture")||t.firstElementChild,i&&Jt(i,e)),i instanceof HTMLPictureElement&&(i=i.querySelector("img")),!i)throw new Error("No content found");this.content=i}onLoad(){this.spinner&&(this.spinner.remove(),this.spinner=null),this.option("spinner")&&this.container.classList.remove(this.cn("isLoading")),this.emit("afterLoad"),this.state===qt.Init?this.enable():this.updateMetrics()}onError(){this.state!==qt.Destroy&&(this.spinner&&(this.spinner.remove(),this.spinner=null),this.stop(),this.detachEvents(),this.state=qt.Error,this.emit("error"))}attachObserver(){var t;const e=()=>Math.abs(this.containerRect.width-this.container.getBoundingClientRect().width)>.1||Math.abs(this.containerRect.height-this.container.getBoundingClientRect().height)>.1;this.resizeObserver||void 0===window.ResizeObserver||(this.resizeObserver=new ResizeObserver((()=>{this.updateTimer||(e()?(this.onResize(),this.isMobile&&(this.updateTimer=setTimeout((()=>{e()&&this.onResize(),this.updateTimer=null}),500))):this.updateTimer&&(clearTimeout(this.updateTimer),this.updateTimer=null))}))),null===(t=this.resizeObserver)||void 0===t||t.observe(this.container)}detachObserver(){var t;null===(t=this.resizeObserver)||void 0===t||t.disconnect()}attachEvents(){const{container:t}=this;t.addEventListener("click",this.onClick,{passive:!1,capture:!1}),t.addEventListener("wheel",this.onWheel,{passive:!1}),this.pointerTracker=new Yt(t,{start:this.onPointerDown,move:this.onPointerMove,end:this.onPointerUp}),document.addEventListener(ie,this.onMouseMove)}detachEvents(){var t;const{container:e}=this;e.removeEventListener("click",this.onClick,{passive:!1,capture:!1}),e.removeEventListener("wheel",this.onWheel,{passive:!1}),null===(t=this.pointerTracker)||void 0===t||t.stop(),this.pointerTracker=null,document.removeEventListener(ie,this.onMouseMove),document.removeEventListener("keydown",this.onKeydown,!0),this.clickTimer&&(clearTimeout(this.clickTimer),this.clickTimer=null),this.updateTimer&&(clearTimeout(this.updateTimer),this.updateTimer=null)}animate(){const t=this.friction;this.setTargetForce();const e=this.option("maxVelocity");for(const i of Ut)t?(this.velocity[i]*=1-t,e&&!this.isScaling&&(this.velocity[i]=Math.max(Math.min(this.velocity[i],e),-1*e)),this.current[i]+=this.velocity[i]):this.current[i]=this.target[i];this.setTransform(),this.setEdgeForce(),!this.isResting||this.isDragging?this.rAF=requestAnimationFrame((()=>this.animate())):this.stop("current")}setTargetForce(){for(const t of Ut)"e"===t&&this.isBouncingX||"f"===t&&this.isBouncingY||(this.velocity[t]=(1/(1-this.friction)-1)*(this.target[t]-this.current[t]))}checkBounds(t=0,e=0){const{current:i}=this,n=i.e+t,s=i.f+e,o=this.getBounds(),{x:a,y:r}=o,c=a.min,l=a.max,h=r.min,u=r.max;let d=0,m=0;return c!==1/0&&n<c?d=c-n:l!==1/0&&n>l&&(d=l-n),h!==1/0&&s<h?m=h-s:u!==1/0&&s>u&&(m=u-s),Math.abs(d)<.001&&(d=0),Math.abs(m)<.001&&(m=0),Object.assign(Object.assign({},o),{xDiff:d,yDiff:m,inBounds:!d&&!m})}clampTargetBounds(){const{target:t}=this,{x:e,y:i}=this.getBounds();e.min!==1/0&&(t.e=Math.max(t.e,e.min)),e.max!==1/0&&(t.e=Math.min(t.e,e.max)),i.min!==1/0&&(t.f=Math.max(t.f,i.min)),i.max!==1/0&&(t.f=Math.min(t.f,i.max))}calculateContentDim(t=this.current){const{content:e,contentRect:i}=this,{fitWidth:n,fitHeight:s,fullWidth:o,fullHeight:a}=i;let r=o,c=a;if(this.option("zoom")||0!==this.angle){const i=!(e instanceof HTMLImageElement)&&("none"===window.getComputedStyle(e).maxWidth||"none"===window.getComputedStyle(e).maxHeight),l=i?o:n,h=i?a:s,u=this.getMatrix(t),d=new DOMPoint(0,0).matrixTransform(u),m=new DOMPoint(0+l,0).matrixTransform(u),g=new DOMPoint(0+l,0+h).matrixTransform(u),f=new DOMPoint(0,0+h).matrixTransform(u),p=Math.abs(g.x-d.x),b=Math.abs(g.y-d.y),v=Math.abs(f.x-m.x),y=Math.abs(f.y-m.y);r=Math.max(p,v),c=Math.max(b,y)}return{contentWidth:r,contentHeight:c}}setEdgeForce(){if(this.ignoreBounds||this.isDragging||this.panMode===ie||this.targetScale<this.scale)return this.isBouncingX=!1,void(this.isBouncingY=!1);const{target:t}=this,{x:e,y:i,xDiff:n,yDiff:s}=this.checkBounds(),o=this.option("maxVelocity");let a=this.velocity.e,r=this.velocity.f;0!==n?(this.isBouncingX=!0,n*a<=0?a+=.14*n:(a=.14*n,e.min!==1/0&&(this.target.e=Math.max(t.e,e.min)),e.max!==1/0&&(this.target.e=Math.min(t.e,e.max))),o&&(a=Math.max(Math.min(a,o),-1*o))):this.isBouncingX=!1,0!==s?(this.isBouncingY=!0,s*r<=0?r+=.14*s:(r=.14*s,i.min!==1/0&&(this.target.f=Math.max(t.f,i.min)),i.max!==1/0&&(this.target.f=Math.min(t.f,i.max))),o&&(r=Math.max(Math.min(r,o),-1*o))):this.isBouncingY=!1,this.isBouncingX&&(this.velocity.e=a),this.isBouncingY&&(this.velocity.f=r)}enable(){const{content:t}=this,e=new DOMMatrixReadOnly(window.getComputedStyle(t).transform);for(const i of Ut)this.current[i]=this.target[i]=e[i];this.updateMetrics(),this.attachObserver(),this.attachEvents(),this.state=qt.Ready,this.emit("ready")}onClick(t){var e;this.isDragging&&(null===(e=this.pointerTracker)||void 0===e||e.clear(),this.trackingPoints=[],this.startDecelAnim());const i=t.target;if(!i||t.defaultPrevented)return;if(i&&i.hasAttribute("disabled"))return t.preventDefault(),void t.stopPropagation();if((()=>{const t=window.getSelection();return t&&"Range"===t.type})()&&!i.closest("button"))return;const n=i.closest("[data-panzoom-action]"),s=i.closest("[data-panzoom-change]"),o=n||s,a=o&&(r=o)&&null!==r&&r instanceof Element&&"nodeType"in r?o.dataset:null;var r;if(a){const e=a.panzoomChange,i=a.panzoomAction;if((e||i)&&t.preventDefault(),e){let i={};try{i=JSON.parse(e)}catch(t){console&&console.warn("The given data was not valid JSON")}return void this.applyChange(i)}if(i)return void(this[i]&&this[i]())}if(Math.abs(this.dragOffset.x)>3||Math.abs(this.dragOffset.y)>3)return t.preventDefault(),void t.stopPropagation();const c=this.content.getBoundingClientRect();if(this.dragStart.time&&!this.canZoomOut()&&(Math.abs(c.x-this.dragStart.x)>2||Math.abs(c.y-this.dragStart.y)>2))return;this.dragStart.time=0;const l=e=>{this.option("zoom")&&e&&"string"==typeof e&&/(iterateZoom)|(toggle(Zoom|Full|Cover|Max)|(zoomTo(Fit|Cover|Max)))/.test(e)&&"function"==typeof this[e]&&(t.preventDefault(),this[e]({event:t}))},h=this.option("click",t),u=this.option("dblClick",t);u?(this.clicks++,1==this.clicks&&(this.clickTimer=setTimeout((()=>{1===this.clicks?(this.emit("click",t),!t.defaultPrevented&&h&&l(h)):(this.emit("dblClick",t),t.defaultPrevented||l(u)),this.clicks=0,this.clickTimer=null}),350))):(this.emit("click",t),!t.defaultPrevented&&h&&l(h))}addTrackingPoint(t){const e=this.trackingPoints.filter((t=>t.time>Date.now()-100));e.push(t),this.trackingPoints=e}onPointerDown(t,e,i){var n;this.pwt=0,this.dragOffset={x:0,y:0,time:0},this.trackingPoints=[];const s=this.content.getBoundingClientRect();if(this.dragStart={x:s.x,y:s.y,top:s.top,left:s.left,time:Date.now()},this.clickTimer)return!1;if(this.panMode===ie&&this.targetScale>1)return t.preventDefault(),t.stopPropagation(),!1;if(!i.length){const e=t.composedPath()[0];if(["A","TEXTAREA","OPTION","INPUT","SELECT","VIDEO"].includes(e.nodeName)||e.closest("[contenteditable]")||e.closest("[data-selectable]")||e.closest("[data-draggable]")||e.closest("[data-clickable]")||e.closest("[data-panzoom-change]")||e.closest("[data-panzoom-action]"))return!1;null===(n=window.getSelection())||void 0===n||n.removeAllRanges()}if("mousedown"===t.type)t.preventDefault();else if(Math.abs(this.velocity.a)>.3)return!1;return this.target.e=this.current.e,this.target.f=this.current.f,this.stop(),this.isDragging||(this.isDragging=!0,this.addTrackingPoint(e),this.emit("touchStart",t)),!0}onPointerMove(t,e,i){if(!1===this.option("touch",t))return;if(!this.isDragging)return;if(e.length<2&&this.panOnlyZoomed&&zt(this.targetScale)<=zt(this.minScale))return;if(this.emit("touchMove",t),t.defaultPrevented)return;this.addTrackingPoint(e[0]);const{content:n}=this,s=It(i[0],i[1]),o=It(e[0],e[1]);let a=0,r=0;if(e.length>1){const t=n.getBoundingClientRect();a=s.clientX-t.left-.5*t.width,r=s.clientY-t.top-.5*t.height}const c=Ht(i[0],i[1]),l=Ht(e[0],e[1]);let h=c?l/c:1,u=o.clientX-s.clientX,d=o.clientY-s.clientY;this.dragOffset.x+=u,this.dragOffset.y+=d,this.dragOffset.time=Date.now()-this.dragStart.time;let m=zt(this.targetScale)===zt(this.minScale)&&this.option("lockAxis");if(m&&!this.lockedAxis)if("xy"===m||"y"===m||"touchmove"===t.type){if(Math.abs(this.dragOffset.x)<6&&Math.abs(this.dragOffset.y)<6)return void t.preventDefault();const e=Math.abs(180*Math.atan2(this.dragOffset.y,this.dragOffset.x)/Math.PI);this.lockedAxis=e>45&&e<135?"y":"x",this.dragOffset.x=0,this.dragOffset.y=0,u=0,d=0}else this.lockedAxis=m;if(Ft(t.target,this.content)&&(m="x",this.dragOffset.y=0),m&&"xy"!==m&&this.lockedAxis!==m&&zt(this.targetScale)===zt(this.minScale))return;t.cancelable&&t.preventDefault(),this.container.classList.add(this.cn("isDragging"));const g=this.checkBounds(u,d);this.option("rubberband")?("x"!==this.isInfinite&&(g.xDiff>0&&u<0||g.xDiff<0&&u>0)&&(u*=Math.max(0,.5-Math.abs(.75/this.contentRect.fitWidth*g.xDiff))),"y"!==this.isInfinite&&(g.yDiff>0&&d<0||g.yDiff<0&&d>0)&&(d*=Math.max(0,.5-Math.abs(.75/this.contentRect.fitHeight*g.yDiff)))):(g.xDiff&&(u=0),g.yDiff&&(d=0));const f=this.targetScale,p=this.minScale,b=this.maxScale;f<.5*p&&(h=Math.max(h,p)),f>1.5*b&&(h=Math.min(h,b)),"y"===this.lockedAxis&&zt(f)===zt(p)&&(u=0),"x"===this.lockedAxis&&zt(f)===zt(p)&&(d=0),this.applyChange({originX:a,originY:r,panX:u,panY:d,scale:h,friction:this.option("dragFriction"),ignoreBounds:!0})}onPointerUp(t,e,i){if(i.length)return this.dragOffset.x=0,this.dragOffset.y=0,void(this.trackingPoints=[]);this.container.classList.remove(this.cn("isDragging")),this.isDragging&&(this.addTrackingPoint(e),this.panOnlyZoomed&&this.contentRect.width-this.contentRect.fitWidth<1&&this.contentRect.height-this.contentRect.fitHeight<1&&(this.trackingPoints=[]),Ft(t.target,this.content)&&"y"===this.lockedAxis&&(this.trackingPoints=[]),this.emit("touchEnd",t),this.isDragging=!1,this.lockedAxis=!1,this.state!==qt.Destroy&&(t.defaultPrevented||this.startDecelAnim()))}startDecelAnim(){var t;const e=this.isScaling;this.rAF&&(cancelAnimationFrame(this.rAF),this.rAF=null),this.isBouncingX=!1,this.isBouncingY=!1;for(const v of Ut)this.velocity[v]=0;this.target.e=this.current.e,this.target.f=this.current.f,Kt(this.container,"is-scaling"),Kt(this.container,"is-animating"),this.isTicking=!1;const{trackingPoints:i}=this,n=i[0],s=i[i.length-1];let o=0,a=0,r=0;s&&n&&(o=s.clientX-n.clientX,a=s.clientY-n.clientY,r=s.time-n.time);const c=(null===(t=window.visualViewport)||void 0===t?void 0:t.scale)||1;1!==c&&(o*=c,a*=c);let l=0,h=0,u=0,d=0,m=this.option("decelFriction");const g=this.targetScale;if(r>0){u=Math.abs(o)>3?o/(r/30):0,d=Math.abs(a)>3?a/(r/30):0;const t=this.option("maxVelocity");t&&(u=Math.max(Math.min(u,t),-1*t),d=Math.max(Math.min(d,t),-1*t))}u&&(l=u/(1/(1-m)-1)),d&&(h=d/(1/(1-m)-1)),("y"===this.option("lockAxis")||"xy"===this.option("lockAxis")&&"y"===this.lockedAxis&&zt(g)===this.minScale)&&(l=u=0),("x"===this.option("lockAxis")||"xy"===this.option("lockAxis")&&"x"===this.lockedAxis&&zt(g)===this.minScale)&&(h=d=0);const f=this.dragOffset.x,p=this.dragOffset.y,b=this.option("dragMinThreshold")||0;Math.abs(f)<b&&Math.abs(p)<b&&(l=h=0,u=d=0),(g<this.minScale-1e-5||g>this.maxScale+1e-5||e&&!l&&!h)&&(m=.35),this.applyChange({panX:l,panY:h,friction:m}),this.emit("decel",u,d,f,p)}onWheel(t){var e=[-t.deltaX||0,-t.deltaY||0,-t.detail||0].reduce((function(t,e){return Math.abs(e)>Math.abs(t)?e:t}));const i=Math.max(-1,Math.min(1,e));if(this.emit("wheel",t,i),this.panMode===ie)return;if(t.defaultPrevented)return;const n=this.option("wheel");"pan"===n?(t.preventDefault(),this.panOnlyZoomed&&!this.canZoomOut()||this.applyChange({panX:2*-t.deltaX,panY:2*-t.deltaY,bounce:!1})):"zoom"===n&&!1!==this.option("zoom")&&this.zoomWithWheel(t)}onMouseMove(t){this.panWithMouse(t)}onKeydown(t){"Escape"===t.key&&this.toggleFS()}onResize(){this.updateMetrics(),this.checkBounds().inBounds||this.requestTick()}setTransform(){this.emit("beforeTransform");const{current:t,target:e,content:i,contentRect:n}=this,s=Object.assign({},Qt);for(const f of Ut){const i="e"==f||"f"===f?ee:te;s[f]=zt(t[f],i),Math.abs(e[f]-t[f])<("e"==f||"f"===f?.51:.001)&&(t[f]=e[f])}let{a:o,b:a,c:r,d:c,e:l,f:h}=s,u=`matrix(${o}, ${a}, ${r}, ${c}, ${l}, ${h})`,d=i.parentElement instanceof HTMLPictureElement?i.parentElement:i;if(this.option("transformParent")&&(d=d.parentElement||d),d.style.transform===u)return;d.style.transform=u;const{contentWidth:m,contentHeight:g}=this.calculateContentDim();n.width=m,n.height=g,this.emit("afterTransform")}updateMetrics(t=!1){var e;if(!this||this.state===qt.Destroy)return;if(this.isContentLoading)return;const i=Math.max(1,(null===(e=window.visualViewport)||void 0===e?void 0:e.scale)||1),{container:n,content:s}=this,o=s instanceof HTMLImageElement,a=n.getBoundingClientRect(),r=getComputedStyle(this.container);let c=a.width*i,l=a.height*i;const h=parseFloat(r.paddingTop)+parseFloat(r.paddingBottom),u=c-(parseFloat(r.paddingLeft)+parseFloat(r.paddingRight)),d=l-h;this.containerRect={width:c,height:l,innerWidth:u,innerHeight:d};let m=this.option("width")||"auto",g=this.option("height")||"auto";"auto"===m&&(m=parseFloat(s.dataset.width||"")||(t=>{let e=0;return e=t instanceof HTMLImageElement?t.naturalWidth:t instanceof SVGElement?t.width.baseVal.value:Math.max(t.offsetWidth,t.scrollWidth),e||0})(s)),"auto"===g&&(g=parseFloat(s.dataset.height||"")||(t=>{let e=0;return e=t instanceof HTMLImageElement?t.naturalHeight:t instanceof SVGElement?t.height.baseVal.value:Math.max(t.offsetHeight,t.scrollHeight),e||0})(s));let f=s.parentElement instanceof HTMLPictureElement?s.parentElement:s;this.option("transformParent")&&(f=f.parentElement||f);const p=f.getAttribute("style")||"";f.style.setProperty("transform","none","important"),o&&(f.style.width="",f.style.height=""),f.offsetHeight;const b=s.getBoundingClientRect();let v=b.width*i,y=b.height*i,w=0,x=0;o&&(Math.abs(m-v)>1||Math.abs(g-y)>1)&&({width:v,height:y,top:w,left:x}=((t,e,i,n)=>{const s=i/n;return s>t/e?(i=t,n=t/s):(i=e*s,n=e),{width:i,height:n,top:.5*(e-n),left:.5*(t-i)}})(v,y,m,g)),this.contentRect=Object.assign(Object.assign({},this.contentRect),{top:b.top-a.top+w,bottom:a.bottom-b.bottom+w,left:b.left-a.left+x,right:a.right-b.right+x,fitWidth:v,fitHeight:y,width:v,height:y,fullWidth:m,fullHeight:g}),f.style.cssText=p,o&&(f.style.width=`${v}px`,f.style.height=`${y}px`),this.setTransform(),!0!==t&&this.emit("refresh"),this.ignoreBounds||(zt(this.targetScale)<zt(this.minScale)?this.zoomTo(this.minScale,{friction:0}):this.targetScale>this.maxScale?this.zoomTo(this.maxScale,{friction:0}):this.state===qt.Init||this.checkBounds().inBounds||this.requestTick()),this.updateControls()}getBounds(){const t=this.option("bounds");if("auto"!==t)return t;const{contentWidth:e,contentHeight:i}=this.calculateContentDim(this.target);let n=0,s=0,o=0,a=0;const r=this.option("infinite");if(!0===r||this.lockedAxis&&r===this.lockedAxis)n=-1/0,o=1/0,s=-1/0,a=1/0;else{let{containerRect:t,contentRect:r}=this,c=zt(this.contentRect.fitWidth*this.targetScale,ee),l=zt(this.contentRect.fitHeight*this.targetScale,ee),{innerWidth:h,innerHeight:u}=t;if(this.containerRect.width===c&&(h=t.width),this.containerRect.width===l&&(u=t.height),e>h){o=.5*(e-h),n=-1*o;let t=.5*(r.right-r.left);n+=t,o+=t}if(this.contentRect.fitWidth>h&&e<h&&(n-=.5*(this.contentRect.fitWidth-h),o-=.5*(this.contentRect.fitWidth-h)),i>u){a=.5*(i-u),s=-1*a;let t=.5*(r.bottom-r.top);s+=t,a+=t}this.contentRect.fitHeight>u&&i<u&&(n-=.5*(this.contentRect.fitHeight-u),o-=.5*(this.contentRect.fitHeight-u))}return{x:{min:n,max:o},y:{min:s,max:a}}}updateControls(){const t=this,e=t.container,{panMode:i,contentRect:n,fullScale:s,targetScale:o,coverScale:a,maxScale:r,minScale:c}=t;let l={toggleMax:o-c<.5*(r-c)?r:c,toggleCover:o-c<.5*(a-c)?a:c,toggleZoom:o-c<.5*(s-c)?s:c}[t.option("click")||""]||c,h=t.canZoomIn(),u=t.canZoomOut(),d=u&&i===ne;zt(o)<zt(c)&&!this.panOnlyZoomed&&(d=!0),(zt(n.width,1)>zt(n.fitWidth,1)||zt(n.height,1)>zt(n.fitHeight,1))&&(d=!0),zt(n.width*o,1)<zt(n.fitWidth,1)&&(d=!1),i===ie&&(d=!1);let m=h&&zt(l)>zt(o),g=!m&&!d&&u&&zt(l)<zt(o);Bt(e,this.cn("canZoomIn"),m),Bt(e,this.cn("canZoomOut"),g),Bt(e,this.cn("isDraggable"),d);for(const f of e.querySelectorAll('[data-panzoom-action="zoomIn"]'))h?(f.removeAttribute("disabled"),f.removeAttribute("tabindex")):(f.setAttribute("disabled",""),f.setAttribute("tabindex","-1"));for(const f of e.querySelectorAll('[data-panzoom-action="zoomOut"]'))u?(f.removeAttribute("disabled"),f.removeAttribute("tabindex")):(f.setAttribute("disabled",""),f.setAttribute("tabindex","-1"));for(const f of e.querySelectorAll('[data-panzoom-action="toggleZoom"],[data-panzoom-action="iterateZoom"]')){h||u?(f.removeAttribute("disabled"),f.removeAttribute("tabindex")):(f.setAttribute("disabled",""),f.setAttribute("tabindex","-1"));const t=f.querySelector("g");t&&(t.style.display=h?"":"none")}}panTo({x:t=this.target.e,y:e=this.target.f,scale:i=this.targetScale,friction:n=this.option("friction"),angle:s=0,originX:o=0,originY:a=0,flipX:r=!1,flipY:c=!1,ignoreBounds:l=!1}){this.state!==qt.Destroy&&this.applyChange({panX:t-this.target.e,panY:e-this.target.f,scale:i/this.targetScale,angle:s,originX:o,originY:a,friction:n,flipX:r,flipY:c,ignoreBounds:l})}applyChange({panX:t=0,panY:e=0,scale:i=1,angle:n=0,originX:s=-this.current.e,originY:o=-this.current.f,friction:a=this.option("friction"),flipX:r=!1,flipY:c=!1,ignoreBounds:l=!1,bounce:h=this.option("bounce")}){if(this.state===qt.Destroy)return;this.rAF&&(cancelAnimationFrame(this.rAF),this.rAF=null),this.friction=a||0,this.ignoreBounds=l;const{current:u}=this,d=u.e,m=u.f,g=this.getMatrix(this.target);let f=(new DOMMatrix).translate(d,m).translate(s,o).translate(t,e);if(this.option("zoom")){if(!l){const t=this.targetScale,e=this.minScale,n=this.maxScale;t*i<e&&(i=e/t),t*i>n&&(i=n/t)}f=f.scale(i)}f=f.translate(-s,-o).translate(-d,-m).multiply(g),n&&(f=f.rotate(n)),r&&(f=f.scale(-1,1)),c&&(f=f.scale(1,-1));for(const p of Ut)"e"!==p&&"f"!==p&&(f[p]>this.minScale+1e-5||f[p]<this.minScale-1e-5)?this.target[p]=f[p]:this.target[p]=zt(f[p],ee);(this.targetScale<this.scale||Math.abs(i-1)>.1||this.panMode===ie||!1===h)&&!l&&this.clampTargetBounds(),this.isResting||(this.state=qt.Panning,this.requestTick())}stop(t=!1){if(this.state===qt.Init||this.state===qt.Destroy)return;const e=this.isTicking;this.rAF&&(cancelAnimationFrame(this.rAF),this.rAF=null),this.isBouncingX=!1,this.isBouncingY=!1;for(const i of Ut)this.velocity[i]=0,"current"===t?this.current[i]=this.target[i]:"target"===t&&(this.target[i]=this.current[i]);this.setTransform(),Kt(this.container,"is-scaling"),Kt(this.container,"is-animating"),this.isTicking=!1,this.state=qt.Ready,e&&(this.emit("endAnimation"),this.updateControls())}requestTick(){this.isTicking||(this.emit("startAnimation"),this.updateControls(),Jt(this.container,"is-animating"),this.isScaling&&Jt(this.container,"is-scaling")),this.isTicking=!0,this.rAF||(this.rAF=requestAnimationFrame((()=>this.animate())))}panWithMouse(t,e=this.option("mouseMoveFriction")){if(this.pmme=t,this.panMode!==ie||!t)return;if(zt(this.targetScale)<=zt(this.minScale))return;this.emit("mouseMove",t);const{container:i,containerRect:n,contentRect:s}=this,o=n.width,a=n.height,r=i.getBoundingClientRect(),c=(t.clientX||0)-r.left,l=(t.clientY||0)-r.top;let{contentWidth:h,contentHeight:u}=this.calculateContentDim(this.target);const d=this.option("mouseMoveFactor");d>1&&(h!==o&&(h*=d),u!==a&&(u*=d));let m=.5*(h-o)-c/o*100/100*(h-o);m+=.5*(s.right-s.left);let g=.5*(u-a)-l/a*100/100*(u-a);g+=.5*(s.bottom-s.top),this.applyChange({panX:m-this.target.e,panY:g-this.target.f,friction:e})}zoomWithWheel(t){if(this.state===qt.Destroy||this.state===qt.Init)return;const e=Date.now();if(e-this.pwt<45)return void t.preventDefault();this.pwt=e;var i=[-t.deltaX||0,-t.deltaY||0,-t.detail||0].reduce((function(t,e){return Math.abs(e)>Math.abs(t)?e:t}));const n=Math.max(-1,Math.min(1,i)),{targetScale:s,maxScale:o,minScale:a}=this;let r=s*(100+45*n)/100;zt(r)<zt(a)&&zt(s)<=zt(a)?(this.cwd+=Math.abs(n),r=a):zt(r)>zt(o)&&zt(s)>=zt(o)?(this.cwd+=Math.abs(n),r=o):(this.cwd=0,r=Math.max(Math.min(r,o),a)),this.cwd>this.option("wheelLimit")||(t.preventDefault(),zt(r)!==zt(s)&&this.zoomTo(r,{event:t}))}canZoomIn(){return this.option("zoom")&&(zt(this.contentRect.width,1)<zt(this.contentRect.fitWidth,1)||zt(this.targetScale)<zt(this.maxScale))}canZoomOut(){return this.option("zoom")&&zt(this.targetScale)>zt(this.minScale)}zoomIn(t=1.25,e){this.zoomTo(this.targetScale*t,e)}zoomOut(t=.8,e){this.zoomTo(this.targetScale*t,e)}zoomToFit(t){this.zoomTo("fit",t)}zoomToCover(t){this.zoomTo("cover",t)}zoomToFull(t){this.zoomTo("full",t)}zoomToMax(t){this.zoomTo("max",t)}toggleZoom(t){this.zoomTo(this.targetScale-this.minScale<.5*(this.fullScale-this.minScale)?"full":"fit",t)}toggleMax(t){this.zoomTo(this.targetScale-this.minScale<.5*(this.maxScale-this.minScale)?"max":"fit",t)}toggleCover(t){this.zoomTo(this.targetScale-this.minScale<.5*(this.coverScale-this.minScale)?"cover":"fit",t)}iterateZoom(t){this.zoomTo("next",t)}zoomTo(t=1,{friction:e="auto",originX:i=0,originY:n=0,event:s}={}){if(this.isContentLoading||this.state===qt.Destroy)return;const{targetScale:o}=this;this.stop();let a=1;if(this.panMode===ie&&(s=this.pmme||s),s){const t=this.content.getBoundingClientRect(),e=s.clientX||0,o=s.clientY||0;i=e-t.left-.5*t.width,n=o-t.top-.5*t.height}const r=this.fullScale,c=this.maxScale;let l=this.coverScale;"number"==typeof t?a=t/o:("next"===t&&(r-l<.2&&(l=r),t=o<r-1e-5?"full":o<c-1e-5?"max":"fit"),a="full"===t?r/o||1:"cover"===t?l/o||1:"max"===t?c/o||1:1/o||1),e="auto"===e?a>1?.15:.25:e,this.applyChange({scale:a,originX:i,originY:n,friction:e}),s&&this.panMode===ie&&this.panWithMouse(s,e)}rotateCCW(){this.applyChange({angle:-90})}rotateCW(){this.applyChange({angle:90})}flipX(){this.applyChange({flipX:!0})}flipY(){this.applyChange({flipY:!0})}fitX(){this.stop("target");const{containerRect:t,contentRect:e,target:i}=this;this.applyChange({panX:.5*t.width-(e.left+.5*e.fitWidth)-i.e,panY:.5*t.height-(e.top+.5*e.fitHeight)-i.f,scale:t.width/e.fitWidth/this.targetScale,originX:0,originY:0,ignoreBounds:!0})}fitY(){this.stop("target");const{containerRect:t,contentRect:e,target:i}=this;this.applyChange({panX:.5*t.width-(e.left+.5*e.fitWidth)-i.e,panY:.5*t.innerHeight-(e.top+.5*e.fitHeight)-i.f,scale:t.height/e.fitHeight/this.targetScale,originX:0,originY:0,ignoreBounds:!0})}toggleFS(){const{container:t}=this,e=this.cn("inFullscreen"),i=this.cn("htmlHasFullscreen");t.classList.toggle(e);const n=t.classList.contains(e);n?(document.documentElement.classList.add(i),document.addEventListener("keydown",this.onKeydown,!0)):(document.documentElement.classList.remove(i),document.removeEventListener("keydown",this.onKeydown,!0)),this.updateMetrics(),this.emit(n?"enterFS":"exitFS")}getMatrix(t=this.current){const{a:e,b:i,c:n,d:s,e:o,f:a}=t;return new DOMMatrix([e,i,n,s,o,a])}reset(t){if(this.state!==qt.Init&&this.state!==qt.Destroy){this.stop("current");for(const t of Ut)this.target[t]=Qt[t];this.target.a=this.minScale,this.target.d=this.minScale,this.clampTargetBounds(),this.isResting||(this.friction=void 0===t?this.option("friction"):t,this.state=qt.Panning,this.requestTick())}}destroy(){this.stop(),this.state=qt.Destroy,this.detachEvents(),this.detachObserver();const{container:t,content:e}=this,i=this.option("classes")||{};for(const n of Object.values(i))t.classList.remove(n+"");e&&(e.removeEventListener("load",this.onLoad),e.removeEventListener("error",this.onError)),this.detachPlugins()}}Object.defineProperty(re,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:Gt}),Object.defineProperty(re,"Plugins",{enumerable:!0,configurable:!0,writable:!0,value:{}});var ce={mixins:[Et.Z,kt.Z,_t.Z],inject:["emitter"],components:{ProductsList:Tt.Z},data(){return{product:{},id:"",isLoading_big:!1,rateValue:5,rateComment:"The product is the best ,I have ever seen !",rateTime:"8: 40 AM, Today",rateData:[],childClass:"",container:null,options:{},panzoom:null}},
//! mitt
mounted(){this.emitter.on("customEvent_isLoading_big",(t=>{this.isLoading_big=t})),this.emitter.on("customEvent_getProduct",(t=>{this.product=t})),this.emitter.on("customEvent_isFavorite",(t=>{this.isFavorite=t})),this.emitter.on("customEvent_updateFavorite",(()=>{this.getFavoriteData()})),this.container=this.$refs.myPanzoom,this.panzoom=new re(this.container,this.options,{Pins:Dt})},created(){this.id=this.$route.params.productId,//! 統一商品唯一的ID(item.id)
this.getProduct(),this.getFavoriteData(),//! 用其他電腦，先新增本地陣列
this.sendComment(),this.changeClass()},methods:{getProduct(){const t=`https://vue3-course-api.hexschool.io/api/william-api/product/${this.id}`;this.isLoading=!0,this.isLoading_big=!0,this.$http.get(t).then((t=>{this.isLoading=!1,this.isLoading_big=!1,t.data.success&&(this.product=t.data.product,this.emitter.emit("customEvent_category",this.product.category))}))},sendComment(){if(!this.rateValue||!this.rateComment)return void this.$toast("error","star and comment required.");const t={rateValue:this.rateValue,rateComment:this.rateComment,rateTime:this.rateTime};localStorage.setItem("rateData",JSON.stringify(t)),this.updateComment();const e=new Date,i=e.getHours(),n=e.getMinutes(),s=i>=12?"PM":"AM",o=i%12===0?12:i%12,a=n.toString().padStart(2,"0"),r=`${o}:${a} ${s}`,c=e.toLocaleDateString("en-US",{weekday:"long"});this.rateTime=`${r}, ${c}`,this.rateValue=null,this.rateComment=""},updateComment(){this.isLoading_big=!0,this.rateData.push(JSON.parse(localStorage.getItem("rateData"))),setTimeout((()=>{this.isLoading_big=!1,this.$toast("success","add comment")}),1e3)},changeClass(){this.childClass="products_sort"}}},le=i(89);const he=(0,le.Z)(ce,[["render",St],["__scopeId","data-v-5a4c2429"]]);var ue=he}}]);
//# sourceMappingURL=429.761dafff.js.map