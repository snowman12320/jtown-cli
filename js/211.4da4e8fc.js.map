{"version":3,"file":"js/211.4da4e8fc.js","mappings":"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","sources":["webpack://hello-world/./src/views/LoginView.vue","webpack://hello-world/./src/views/LoginView.vue?5755"],"sourcesContent":["<template>\r\n  <div class=\"\">\r\n    <Loading :active=\"isLoading\"></Loading>\r\n    <Header :is-login=\"isLogin\"></Header>\r\n    <div class=\"login_bg\">\r\n      <div class=\"d-flex justify-content-center align-items-center h-100\">\r\n        <div class=\"card\">\r\n          <div class=\"card-header\">\r\n            <h3>Sign In</h3>\r\n            <div class=\"d-flex justify-content-end social_icon\">\r\n              <!-- <span><i class=\"fab fa-facebook-square\"></i></span> -->\r\n              <span><i class=\"fab fa-google-plus-square\"></i></span>\r\n              <!-- <span><i class=\"fab fa-twitter-square\"></i></span> -->\r\n            </div>\r\n          </div>\r\n          <div class=\"card-body\">\r\n            <Form @submit=\"signIn\" v-slot=\"{ errors }\">\r\n              <div class=\"input-group form-group mb-2 position-relative\">\r\n                <div class=\"input-group-prepend\">\r\n                  <i class=\"fas fa-user\"></i>\r\n                </div>\r\n                <Field type=\"text\" name=\"email\" class=\"form-control rounded-3 \" placeholder=\"請輸入 Email\"\r\n                  rules=\"email|required\"\r\n                  :class=\"{ 'is-invalid': errors['email'], 'is-valid': !errors['email'] && Boolean(user.username) }\"\r\n                  autofocus v-model=\"user.username\"></Field>\r\n                <error-message name=\"email\" class=\"invalid-feedback ms-5\"\r\n                  style=\"text-shadow:0 2px 5px #fff;\"></error-message>\r\n              </div>\r\n\r\n              <div class=\"input-group form-group mt-4\">\r\n                <div class=\"input-group-prepend\">\r\n                  <i class=\"fas fa-key\"></i>\r\n                </div>\r\n                <Field type=\"password\" name=\"密碼\" id=\"password\" class=\"form-control rounded-3\" placeholder=\"password\"\r\n                  required v-model=\"user.password\" maxlength=\"20\" :rules=\"validatePassword\"\r\n                  :class=\"{ 'is-invalid': errors['密碼'], 'is-valid': !errors['密碼'] && Boolean(user.password) }\"></Field>\r\n                <error-message name=\"密碼\" class=\"invalid-feedback ms-5\" style=\"text-shadow:0 2px 5px #fff\"></error-message>\r\n              </div>\r\n              <!--  -->\r\n              <div class=\"mt-2 d-flex gap-1 align-items-center  justify-content-end me-2\">\r\n                <input id=\"remember\" type=\"checkbox\" v-model=\"rememberMe\">\r\n                <label for=\"remember\" class=\" text-white\">Remember Me</label>\r\n              </div>\r\n              <div class=\"form-group text-center mt-5\">\r\n                <input type=\"submit\" value=\"Login\" class=\"btn float-right login_btn\">\r\n              </div>\r\n            </form>\r\n          </div>\r\n          <div class=\"card-footer d-flex justify-content-center align-items-center\">\r\n            <div class=\"d-flex justify-content-center align-items-center links\">\r\n              Don't have an account?\r\n              <el-popconfirm width=\"350\" @confirm=\"confirmEvent\" confirm-button-text=\"Yap!\"\r\n                cancel-button-text=\"No, Thanks\" icon-color=\"#626AEF\"\r\n                title=\"Registration is not yet available... but would you like to use VIP to test it?\">\r\n                <template #reference>\r\n                  <el-button style=\"text-shadow:0 2px 5px black\">Sign Up</el-button>\r\n                </template>\r\n              </el-popconfirm>\r\n            </div>\r\n            <!-- <div class=\"d-flex justify-content-center\">\r\n              <a href=\"#\">Forgot your password?</a>\r\n            </div> -->\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <Footer></Footer>\r\n  </div>\r\n</template>\r\n<script>\r\nimport Header from '@/components/Header.vue';\r\nimport Footer from '@/components/Footer.vue';\r\nimport loginMixin from '@/mixins/loginMixin';\r\nimport emitter from '@/methods/emitter';\r\n\r\nexport default {\r\n  mixins: [loginMixin],\r\n  components: {\r\n    Header,\r\n    Footer\r\n  },\r\n  provide () {\r\n    return {\r\n      emitter\r\n    };\r\n  },\r\n  data () {\r\n    return {\r\n      user: {\r\n        username: 'VIP-test@jtown.com.tw',\r\n        password: ''\r\n      },\r\n      isLoading: false,\r\n      rememberMe: false\r\n    };\r\n  },\r\n  created () {\r\n    this.checkRemember();\r\n  },\r\n  watch: {\r\n    rememberMe () {\r\n      if (this.rememberMe) {\r\n        this.$swal.fire({\r\n          title: 'Are you sure remember it?',\r\n          text: ' Please verify and correct it if necessary!',\r\n          icon: 'warning',\r\n          showCancelButton: true,\r\n          confirmButtonColor: '#3085d6',\r\n          cancelButtonColor: '#d33',\r\n          confirmButtonText: 'Yes, do it!'\r\n        }).then((result) => {\r\n          if (result.isConfirmed) {\r\n            this.$swal.fire(\r\n              'Remember!',\r\n              'Your password has been saved.',\r\n              'success'\r\n            );\r\n            // 保存用户名和密码到localStorage\r\n            localStorage.setItem('username', this.user.username);\r\n            localStorage.setItem('password', this.user.password);\r\n            localStorage.setItem('rememberMe', true);\r\n          }\r\n        });\r\n      } else {\r\n        // 清除localStorage中的记住我选项\r\n        localStorage.removeItem('username');\r\n        localStorage.removeItem('password');\r\n        localStorage.removeItem('rememberMe');\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    signIn () {\r\n      const api = `${process.env.VUE_APP_API}admin/signin`;\r\n      this.$http.post(api, this.user).then((res) => {\r\n        // const { token, expired } = res.data;\r\n        // console.log(token, expired);\r\n        // document.cookie = `hexToken=${token}; expires=${new Date(expired)}`;\r\n        this.isLoading = true;\r\n        if (res.data.success) {\r\n          this.isLoading = false;\r\n          const { token, expired } = res.data;\r\n          document.cookie = `hexToken=${token}; expires=${new Date(expired)}`;\r\n          // this.$router.push('/dashboard');\r\n          this.$router.go(-1);\r\n          localStorage.setItem('username', JSON.stringify(this.user.username));\r\n        } else {\r\n          this.$swal.fire('Incorrect', 'please check username or password.', 'warning');\r\n        }\r\n      });\r\n    },\r\n    validatePassword (value) {\r\n      if (!value) return false;\r\n      const regex = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d).{10,}$/;\r\n      return regex.test(value) ? true : '密碼需包含英文大小寫和數字，且超過十位數以上';\r\n    },\r\n    checkRemember () {\r\n      // 检查localStorage中是否已保存了记住我选项\r\n      if (localStorage.getItem('rememberMe') === 'true') {\r\n        this.rememberMe = true;\r\n        // 填充登录表单中的用户名和密码\r\n        this.user.username = localStorage.getItem('username');\r\n        this.user.password = localStorage.getItem('password');\r\n      }\r\n    },\r\n    confirmEvent () {\r\n      localStorage.setItem('VIP', JSON.stringify('testToken'));\r\n      localStorage.setItem('username', JSON.stringify(this.user.username));\r\n      this.$router.push('/dashboard/products');\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style scoped>\r\n.login_bg {\r\n  background-size: cover;\r\n  background-position: 50% 80%;\r\n  background-repeat: no-repeat;\r\n  background-image: url('../assets/nbaWeb/jusdevoyage-hJOHlZjW9FQ-unsplash.jpg');\r\n  min-height: 100vh;\r\n  max-width: 100vw;\r\n  align-content: center;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  overflow-x: hidden !important;\r\n}\r\n\r\n.card {\r\n  height: 430px;\r\n  margin-top: auto;\r\n  margin-bottom: auto;\r\n  width: 400px;\r\n  background-color: rgba(0, 0, 0, 0.4) !important;\r\n}\r\n\r\n.social_icon span {\r\n  font-size: 60px;\r\n  margin-left: 10px;\r\n  color: #fff;\r\n}\r\n\r\n.social_icon span:hover {\r\n  color: white;\r\n  cursor: pointer;\r\n}\r\n\r\n.card-header h3 {\r\n  color: white;\r\n}\r\n\r\n.social_icon {\r\n  position: absolute;\r\n  right: 20px;\r\n  top: -45px;\r\n}\r\n\r\n.input-group-prepend i {\r\n  background-color: #fff;\r\n  color: black;\r\n  border: 0 !important;\r\n  padding: 15px;\r\n  border-radius: 50%;\r\n\r\n}\r\n\r\ninput:focus {\r\n  outline: 0 0 0 0 !important;\r\n  box-shadow: 0 0 0 0 !important;\r\n}\r\n\r\n.login_btn {\r\n  color: black;\r\n  background-color: #fff;\r\n  width: 100px;\r\n}\r\n\r\n.login_btn:hover {\r\n  color: black;\r\n  background-color: white;\r\n}\r\n\r\n.links {\r\n  color: white;\r\n}\r\n\r\n.links a {\r\n  margin-left: 4px;\r\n}\r\n\r\n.el-button {\r\n  background: transparent;\r\n  color: dodgerblue;\r\n  padding: 0px;\r\n}\r\n\r\n.el-popper.is-customized {\r\n  /* Set padding to ensure the height is 32px */\r\n  padding: 6px 12px;\r\n  background: linear-gradient(90deg, rgb(159, 229, 151), rgb(204, 229, 129));\r\n}\r\n\r\n.el-popper.is-customized .el-popper__arrow::before {\r\n  background: linear-gradient(45deg, #b2e68d, #bce689);\r\n  right: 0;\r\n}\r\n</style>\r\n","import { render } from \"./LoginView.vue?vue&type=template&id=c9a0b9ac&scoped=true\"\nimport script from \"./LoginView.vue?vue&type=script&lang=js\"\nexport * from \"./LoginView.vue?vue&type=script&lang=js\"\n\nimport \"./LoginView.vue?vue&type=style&index=0&id=c9a0b9ac&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-c9a0b9ac\"]])\n\nexport default __exports__"],"names":["class","_createElementVNode","for","type","value","_createElementBlock","_hoisted_1","_createVNode","_component_Loading","active","$data","_component_Header","_ctx","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_component_Form","onSubmit","$options","errors","_hoisted_7","_hoisted_8","_component_Field","name","Boolean","username","placeholder","rules","autofocus","_component_error_message","style","_hoisted_9","_hoisted_10","id","password","required","maxlength","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_component_el_popconfirm","width","onConfirm","title","reference","_component_el_button","_component_Footer","mixins","loginMixin","components","Header","Footer","provide","emitter","data","user","isLoading","rememberMe","created","this","checkRemember","watch","$swal","fire","text","icon","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","then","result","isConfirmed","localStorage","setItem","removeItem","methods","signIn","api","$http","post","res","success","token","expired","document","cookie","Date","$router","go","JSON","stringify","validatePassword","regex","test","getItem","confirmEvent","push","__exports__","render"],"sourceRoot":""}