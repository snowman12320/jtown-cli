{"version":3,"file":"js/498.bca539f7.js","mappings":"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","sources":["webpack://hello-world/./src/views/LoginView.vue","webpack://hello-world/./src/views/LoginView.vue?5755"],"sourcesContent":["<template>\n  <div class=\"\">\n    <Loading :active=\"isLoading\"></Loading>\n    <Header :is-login=\"isLogin\"></Header>\n    <div class=\"login_bg\">\n      <div class=\"d-flex justify-content-center align-items-center h-100\">\n        <div class=\"card\">\n          <div class=\"card-header\">\n            <h3>Sign In</h3>\n            <div class=\"d-flex justify-content-end social_icon\">\n              <!-- <span><i class=\"fab fa-facebook-square\"></i></span> -->\n              <span><i class=\"fab fa-google-plus-square\"></i></span>\n              <!-- <span><i class=\"fab fa-twitter-square\"></i></span> -->\n            </div>\n          </div>\n          <div class=\"card-body\">\n            <Form @submit=\"signIn\" v-slot=\"{ errors }\">\n              <div class=\"input-group form-group mb-2\">\n                <div class=\"input-group-prepend\">\n                  <i class=\"fas fa-user\"></i>\n                </div>\n                <Field type=\"text\" name=\"email\" class=\"form-control rounded-3 \" placeholder=\"請輸入 Email\"\n                  rules=\"email|required\"\n                  :class=\"{ 'is-invalid': errors['email'], 'is-valid': !errors['email'] && user.username }\" autofocus\n                  v-model=\"user.username\"></Field>\n                <error-message name=\"email\" class=\"invalid-feedback ms-5\"\n                  style=\"text-shadow:0 2px 5px #fff\"></error-message>\n              </div>\n\n              <div class=\"input-group form-group\">\n                <div class=\"input-group-prepend\">\n                  <i class=\"fas fa-key\"></i>\n                </div>\n                <Field type=\"password\" name=\"密碼\" id=\"password\" class=\"form-control rounded-3\" placeholder=\"password\"\n                  required v-model=\"user.password\" maxlength=\"20\" :rules=\"validatePassword\"\n                  :class=\"{ 'is-invalid': errors['密碼'], 'is-valid': !errors['密碼'] }\"></Field>\n                <error-message name=\"密碼\" class=\"invalid-feedback ms-5\" style=\"text-shadow:0 2px 5px #fff\"></error-message>\n              </div>\n              <!--  -->\n              <div class=\"mt-2 d-flex gap-1 align-items-center  justify-content-end me-2\">\n                <input id=\"remember\" type=\"checkbox\" v-model=\"rememberMe\">\n                <label for=\"remember\" class=\" text-white\">Remember Me</label>\n              </div>\n              <div class=\"form-group text-center mt-5\">\n                <input type=\"submit\" value=\"Login\" class=\"btn float-right login_btn\">\n              </div>\n            </form>\n          </div>\n          <div class=\"card-footer\">\n            <div class=\"d-flex justify-content-center links\">\n              Don't have an account?<a style=\"text-shadow:0 2px 5px #fff\" href=\"#\">Sign Up</a>\n            </div>\n            <!-- <div class=\"d-flex justify-content-center\">\n              <a href=\"#\">Forgot your password?</a>\n            </div> -->\n          </div>\n        </div>\n      </div>\n    </div>\n    <Footer></Footer>\n  </div>\n</template>\n<script>\nimport Header from '@/components/Header.vue';\nimport Footer from '@/components/Footer.vue';\nimport loginMixin from '@/mixins/loginMixin';\nimport emitter from '@/methods/emitter';\n\nexport default {\n  mixins: [loginMixin],\n  components: {\n    Header,\n    Footer\n  },\n  provide () {\n    return {\n      emitter\n    };\n  },\n  data () {\n    return {\n      user: {\n        username: '',\n        password: ''\n      },\n      isLoading: false,\n      rememberMe: false\n    };\n  },\n  created () {\n    this.checkRemember();\n  },\n  watch: {\n    rememberMe () {\n      if (this.rememberMe) {\n        this.$swal.fire({\n          title: 'Are you sure remember it?',\n          text: ' Please verify and correct it if necessary!',\n          icon: 'warning',\n          showCancelButton: true,\n          confirmButtonColor: '#3085d6',\n          cancelButtonColor: '#d33',\n          confirmButtonText: 'Yes, do it!'\n        }).then((result) => {\n          if (result.isConfirmed) {\n            this.$swal.fire(\n              'Remember!',\n              'Your password has been saved.',\n              'success'\n            );\n            // 保存用户名和密码到localStorage\n            localStorage.setItem('username', this.user.username);\n            localStorage.setItem('password', this.user.password);\n            localStorage.setItem('rememberMe', true);\n          }\n        });\n      } else {\n        // 清除localStorage中的记住我选项\n        localStorage.removeItem('username');\n        localStorage.removeItem('password');\n        localStorage.removeItem('rememberMe');\n      }\n    }\n  },\n  methods: {\n    signIn () {\n      const api = `${process.env.VUE_APP_API}admin/signin`;\n      this.$http.post(api, this.user).then((res) => {\n        // const { token, expired } = res.data;\n        // console.log(token, expired);\n        // document.cookie = `hexToken=${token}; expires=${new Date(expired)}`;\n        this.isLoading = true;\n        if (res.data.success) {\n          this.isLoading = false;\n          const { token, expired } = res.data;\n          document.cookie = `hexToken=${token}; expires=${new Date(expired)}`;\n          // this.$router.push('/dashboard');\n          this.$router.go(-1);\n        } else {\n          this.$swal.fire('Incorrect', ' username or password.', 'warning');\n        }\n      });\n    },\n    validatePassword (value) {\n      const regex = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d).{10,}$/;\n      return regex.test(value) ? true : '密碼需包含英文大小寫和數字，且超過十位數以上';\n    },\n    checkRemember () {\n      // 检查localStorage中是否已保存了记住我选项\n      if (localStorage.getItem('rememberMe') === 'true') {\n        this.rememberMe = true;\n        // 填充登录表单中的用户名和密码\n        this.user.username = localStorage.getItem('username');\n        this.user.password = localStorage.getItem('password');\n      }\n    }\n  }\n};\n</script>\n<style scoped>\n.login_bg {\n  background-size: cover;\n  background-position: 50% 80%;\n  background-repeat: no-repeat;\n  background-image: url('../assets/nbaWeb/jusdevoyage-hJOHlZjW9FQ-unsplash.jpg');\n  min-height: 100vh;\n  max-width: 100vw;\n  align-content: center;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  overflow-x: hidden !important;\n}\n\n.card {\n  height: 370px;\n  margin-top: auto;\n  margin-bottom: auto;\n  width: 400px;\n  background-color: rgba(0, 0, 0, 0.4) !important;\n}\n\n.social_icon span {\n  font-size: 60px;\n  margin-left: 10px;\n  color: #fff;\n}\n\n.social_icon span:hover {\n  color: white;\n  cursor: pointer;\n}\n\n.card-header h3 {\n  color: white;\n}\n\n.social_icon {\n  position: absolute;\n  right: 20px;\n  top: -45px;\n}\n\n.input-group-prepend i {\n  background-color: #fff;\n  color: black;\n  border: 0 !important;\n  padding: 15px;\n  border-radius: 50%;\n\n}\n\ninput:focus {\n  outline: 0 0 0 0 !important;\n  box-shadow: 0 0 0 0 !important;\n}\n\n.login_btn {\n  color: black;\n  background-color: #fff;\n  width: 100px;\n}\n\n.login_btn:hover {\n  color: black;\n  background-color: white;\n}\n\n.links {\n  color: white;\n}\n\n.links a {\n  margin-left: 4px;\n}\n</style>\n","import { render } from \"./LoginView.vue?vue&type=template&id=341933cb&scoped=true\"\nimport script from \"./LoginView.vue?vue&type=script&lang=js\"\nexport * from \"./LoginView.vue?vue&type=script&lang=js\"\n\nimport \"./LoginView.vue?vue&type=style&index=0&id=341933cb&scoped=true&lang=css\"\n\nimport exportComponent from \"/Users/william/Documents/mac mini/hexschool_vue/hexschool-question/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-341933cb\"]])\n\nexport default __exports__"],"names":["class","_createElementVNode","for","type","value","style","href","_createElementBlock","_createVNode","_component_Loading","active","$data","_component_Header","_ctx","_hoisted_5","_component_Form","onSubmit","$options","errors","_hoisted_8","_component_Field","name","username","placeholder","rules","autofocus","$event","_component_error_message","_hoisted_10","id","required","password","maxlength","_hoisted_12","_hoisted_13","_hoisted_14","_component_Footer","mixins","loginMixin","components","Header","Footer","provide","emitter","data","user","isLoading","rememberMe","created","this","checkRemember","watch","$swal","fire","title","text","icon","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","then","result","isConfirmed","localStorage","setItem","removeItem","methods","signIn","api","$http","post","res","success","token","expired","document","cookie","Date","$router","go","validatePassword","regex","test","getItem","__exports__","render"],"sourceRoot":""}